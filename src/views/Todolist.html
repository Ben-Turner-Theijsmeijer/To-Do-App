<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Todo-List</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
    crossorigin="anonymous" referrerpolicy="no-referrer">

  <link rel="stylesheet" href="../../styles/Todolist.css" />
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-custom">
    <div class="container">
      <a class="navbar-brand" href="#">ToDo-List</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="../../index.html">
              <i class="fa-solid fa-house"></i> Home
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Todolist.html">
              <i class="fa-solid fa-list-check"></i> To Do Manager
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Calendar.html">
              <i class="fa-solid fa-calendar-days"></i> Calendar
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Container -->
  <div class="container">
    <h1 class="subtitle text-center mt-4">To-Do List</h1>

    <!-- Task Counter and Buttons Container -->
    <div class="d-flex justify-content-between align-items-center my-3">
      <button class="task-counter-button btn btn-primary">Tasks: 0</button>

      <div>
        <input type="file" id="taskFileInput" accept=".csv" style="display: none;">
        <button id="uploadTasksButton" class="upload-button btn btn-secondary">
          <i class="fa-solid fa-upload"></i> Upload Tasks
        </button>
        <button id="exportTasksButton" class="export-button btn btn-primary">
          <i class="fa-solid fa-download"></i> Export Tasks
        </button>
      </div>
    </div>

    <!-- Task Input Section -->
    <div id="add-task" class="js-add-grid">
      <input type="text" placeholder="Add a new task here..." class="js-name-input form-control">
      <input type="date" class="js-date-input form-control" min="">
      <input type="time" class="js-time-input form-control">
      <select class="js-category-input form-select">
        <option value="">Select Category</option>
        <option value="work">Work</option>
        <option value="personal">Personal</option>
        <option value="shopping">Shopping</option>
        <option value="other">Other</option>
      </select>
      <select class="js-priority-input form-select">
        <option value="">Select Priority</option>
        <option value="high">High</option>
        <option value="medium">Medium</option>
        <option value="low">Low</option>
      </select>
      <div class="js-actions-wrapper">
        <button class="js-add-button btn btn-success">
          <i class="fa-solid fa-plus"></i> Add Task
        </button>
        <button class="js-cancel-button btn btn-danger">
          <i class="fa-solid fa-xmark"></i> Cancel
        </button>
      </div>
    </div>

    <!-- Task Completed Notification -->
    <div id="js-success-notification" class="alert alert-success text-center" style="display: none">
      <p>Task completed ðŸŽ‰</p>
    </div>

    <!-- Sorting, Filtering, and Searching Section -->
    <div id="sort-and-filter">
      <button id="open-filters-btn" class="btn btn-outline-primary">Open Filters</button>
      <div class="search-wrapper">
        <input type="search" id="search" class="form-control" placeholder="Search Tasks..">
      </div>
      <div class="sort-buttons text-center">
        <div>
          <button id="sort-button-category" class="btn btn-outline-primary">
            Sort by Category
            <span id="sort-category-order" class="fa fa-arrows-v"></span>
          </button>
          <button id="sort-button-priority" class="btn btn-outline-primary">
            Sort by Priority
            <span id="sort-priority-order" class="fa fa-arrows-v"></span>
          </button>
          <button id="sort-button-date" class="btn btn-outline-primary">
            Sort by Date
            <span id="sort-date-order" class="fa fa-arrows-v"></span>
          </button>
        </div>
      </div>
    </div>
    <!-- Filter Menu (collapsible, default hidden) -->
    <!-- display: none in HTML so that associated JS function from UIManager.js works as intended -->
    <div id="filter-menu" class="hamburger-menu text-center" style="display: none;">
      <div class="mt-3">
        <label class="me-2">Filter Complete:</label>
        <select class="js-filter-input filter-completion form-select d-inline w-auto">
          <option value="all">All</option>
          <option value="pending">Pending</option>
          <option value="completed">Completed</option>
        </select>

        <label class="ms-4 me-2">Filter Category:</label>
        <select class="js-filter-input filter-category form-select d-inline w-auto">
          <option value="all">All</option>
          <option value="work">Work</option>
          <option value="personal">Personal</option>
          <option value="shopping">Shopping</option>
          <option value="other">Other</option>
        </select>

        <label class="ms-4 me-2">Filter Priority:</label>
        <select class="js-filter-input filter-priority form-select d-inline w-auto">
          <option value="all">All</option>
          <option value="high">High</option>
          <option value="medium">Medium</option>
          <option value="low">Low</option>
        </select>
      </div>
    </div>

    <!-- Task List -->
    <div class="task-list display mt-4">
      <div class="js-add-html js-add-grid js-add-html-tasks"></div>
    </div>

  </div>

  <!-- Dark Mode Toggle -->
  <div class="dark-mode-toggle">
    <button id="darkModeBtn">
      <i class="fa-solid fa-moon"></i> Dark Mode
    </button>
  </div>

  <footer class="footer">
    <div class="container">
      <p>
        &copy; <span class="year"></span> Made with &#10084; by Anish Grover. All rights reserved.
      </p>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script type="module" src="../utils/app.js"></script>
  <script src="../utils/darkmode.js"></script> <!-- Dark mode script -->
</body>

</html>